{% extends 'base.html' %}
{% load static %}
    {% block title %} - Home {% endblock %}
    {% block body %}
        <h1 class="qm-name"><span style="color: #5C9EAD;">Q</span>uintana <span style="color: #5C9EAD;">M</span>ágica</h1>
        <h2 class="text-center">Una comunidad con propósito</h2>
        {% if nm %}
        <h4 class="center">Hola <strong class="underline" style="color: #326273;">{{ nickname }}</strong></h4>
        {% endif %}
        {% if cumple %}
        <h4 class="center"style="color: #0F1C30;">Feliz Cumpleaños!!!!</h4>
        {% endif %}
        {% if message %}
        <h4 class="center"style="color: #668DC0;">{{message}}</h4>
        {% endif %}
        <p class="center">Hoy es {{ today }}</p>
        {% if navidad %}
        <h4 class="center" style="color: #E39774;">Feliz Navidad!!!!</h4>
        {% endif%}
        {% if n_year %}
        <h4 class="center" style="color: #326273;">Feliz Año!!!!</h4>
        {% endif %}
        {% if staff %}
        {% if all_events %}
        <h2 class="center events top-20"><a class="sindec" href="{% url 'eventos.lista' %}">Proximos Eventos:</a></h2>
        <div class="events-container center">
            <table class="styled-table">
                <thead>
                    <tr>
                        <th style="width: 35px;">Tipo</th>
                        <th style="width: 150px;">Nombre</th>
                        <th style="width: 80px;">Fecha</th>
                        <th style="width: 10px;"></th>
                    </tr>
                </thead>
                <tbody>
                    {% for event in all_events %}
                    <tr>
                        <td style="width: 10%;">{{ event.tipo }}</td>
                        <td style="width: 45%;">{{ event.nombre }}</td>
                        <td style="width: 30%;">{{ event.fecha|date:"d-M" }}</td>
                        <td style="width: 15%;">
                            <a href="{% url 'eventos.detail' pk=event.id %}">
                                <img src="{% static 'images/info.png' %}" style="width: 30px;" alt="">
                            </a>
                        </td>
                    </tr>
                        {% endfor %}
                </tbody>
            </table>
        </div>
        {% endif %}
        {% else %}
        {% if events %}
        <h2 class="center events top-20"><a class="sindec" href="{% url 'eventos.lista' %}">Proximos Eventos:</a></h2>
        <div class="events-container center">
            <table class="styled-table">
                <thead>
                    <tr>
                        <th style="width: 35px;">Tipo</th>
                        <th style="width: 150px;">Nombre</th>
                        <th style="width: 80px;">Fecha</th>
                        <th style="width: 10px;"></th>
                    </tr>
                </thead>
                <tbody>
                    {% for event in events %}
                    <tr>
                        <td style="width: 10%;">{{ event.tipo }}</td>
                        <td style="width: 45%;">{{ event.nombre }}</td>
                        <td style="width: 30%;">{{ event.fecha|date:"d-M" }}</td>
                        <td style="width: 15%;">
                            <a href="{% url 'eventos.detail' pk=event.id %}">
                                <img src="{% static 'images/info.png' %}" style="width: 30px;" alt="">
                            </a>
                        </td>
                    </tr>
                        {% endfor %}
                </tbody>
            </table>
        </div>
        {% endif %}
        {% endif %}

        <div style="display: flex;">
            <video class="video" src="{% static 'videos/eneagrama.mp4' %}" type="video/mp4"
                style="border-style: solid; border-color: #5C9EAD; width: 80%; margin: auto;" 
                autoplay muted loop>
            </video>
            <script>

                let video = document.querySelector(".video")
          
                video.addEventListener("mouseover", function (e) {
                   video.play();
                })

                video.addEventListener("click", function (e) {
                    video.muted = !video.muted
                })
            </script>
            
            <!-- <img class="img-fluid" src="{% static 'images/qm.jpg' %}" style="border-color: #5C9EAD ; 
            border-style: solid;" alt="Quintana Mágica"> -->
        </div>
    {% endblock %}